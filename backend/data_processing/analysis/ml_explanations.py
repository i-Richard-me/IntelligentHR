ML_TOOL_INFO = """
**🤖 机器学习建模与预测工具**

这个工具允许您训练新的机器学习模型或使用已保存的模型进行预测。它支持分类和回归问题。

主要功能包括：
- 数据上传和预览
- 模型选择和参数设置
- 模型训练和评估
- 使用训练好的模型进行预测
- 结果可视化和下载

支持的模型类型：
- 随机森林（分类和回归）
- 决策树（仅分类）
- XGBoost（分类和回归）

请根据您的数据和问题类型选择适当的模型和设置。
"""

CONFUSION_MATRIX_EXPLANATION = """
混淆矩阵是评估分类模型性能的重要工具。它展示了模型预测结果与实际类别的对比情况。

矩阵中的每个单元格表示：
- 实际类别为行标签，预测类别为列标签
- 数值表示该组合的样本数量和百分比

理想情况下，对角线上的值（正确预测）应该较高，而其他位置的值（错误预测）应该较低。

通过分析混淆矩阵，我们可以了解模型在哪些类别上表现较好或较差，从而有针对性地改进模型或处理数据。
"""

CLASSIFICATION_REPORT_EXPLANATION = """
分类报告提供了模型在各个类别上的详细性能指标：

1. Precision（精确率）：正确预测为该类的样本数 / 所有预测为该类的样本数
   - 衡量模型预测为某类时的准确程度

2. Recall（召回率）：正确预测为该类的样本数 / 该类的实际样本总数
   - 衡量模型对某类的识别完整程度

3. F1-score：Precision 和 Recall 的调和平均数
   - 平衡考虑精确率和召回率，综合评估模型性能

4. Support：每个类别的实际样本数量

5. Accuracy：整体正确预测的比例（仅在报告末尾给出）

6. Macro Avg：各类别指标的简单平均

7. Weighted Avg：考虑了每个类别的样本数量的加权平均

这些指标有助于全面评估模型在各个类别上的表现，特别是在处理不平衡数据集时。
"""

FEATURE_IMPORTANCE_EXPLANATION = """
特征重要性图展示了模型中各个特征对预测结果的影响程度。

对于树型模型（如随机森林、决策树和XGBoost）：
- 重要性分数基于该特征在树的分裂中被使用的频率和效果
- 分数越高，表示该特征对模型的预测结果影响越大

理解特征重要性有助于：
1. 识别最关键的预测因素
2. 进行特征选择，简化模型
3. 发现潜在的数据问题或意外的重要特征

注意：特征重要性不表示因果关系，高重要性的特征可能与其他特征有关联。
"""

REGRESSION_METRICS_EXPLANATION = """
回归模型的主要评估指标包括：

1. 均方误差（MSE）：预测值与实际值差异的平方的平均值
   - 越小越好，完美预测的MSE为0
   - 单位与目标变量的平方相同

2. 决定系数（R²）：模型解释的因变量方差比例
   - 范围通常在0到1之间，1表示完美拟合
   - 可能为负，表示模型表现比简单地预测平均值还差

3. 残差图：展示预测值与实际值之间的差异（残差）
   - 理想情况下，残差应随机分布在0周围
   - 可以帮助识别非线性关系、异方差性等问题

这些指标结合使用，可以全面评估回归模型的性能和适用性。
"""

SHAP_FEATURE_IMPORTANCE_EXPLANATION = """
SHAP (SHapley Additive exPlanations) 特征重要性图展示了每个特征对模型预测的平均绝对贡献。

- 每个条形代表一个特征。
- 条形的长度表示该特征的平均绝对SHAP值，即该特征对模型预测的平均影响程度。
- 特征按重要性从上到下排序，最上面的特征对模型预测的影响最大。

通过这个图，我们可以直观地看出哪些特征对模型的预测结果影响最大。这有助于我们理解模型的决策依据，
并可能为进一步的特征工程或模型优化提供指导。

对于线性回归模型，SHAP值直接对应于特征的系数（考虑了特征的尺度）。正的SHAP值表示该特征
增加了预测值，而负的SHAP值表示该特征减少了预测值。
"""

SHAP_DEPENDENCE_PLOT_EXPLANATION = """
SHAP依赖图展示了选定特征的值如何影响其SHAP值（即对模型预测的影响）。

- X轴表示特征的实际值。
- Y轴表示该特征的SHAP值。
- 每个点代表一个样本。
- 点的颜色表示特征值的大小，红色表示较大的值，蓝色表示较小的值。

通过这个图，我们可以观察到：
1. 特征值与SHAP值之间的关系是否线性、单调或更复杂。
2. 特征值的哪些范围对预测结果有正面或负面影响。
3. 是否存在特征值的临界点，在该点附近预测结果发生显著变化。

对于线性回归模型，SHAP依赖图通常会显示为一条直线，斜率对应于该特征的系数。
这反映了线性回归模型中特征与目标变量之间的线性关系。

这有助于我们深入理解特定特征是如何影响模型预测的，对模型的解释和改进都很有价值。
"""

LINEAR_REGRESSION_FEATURE_IMPORTANCE_EXPLANATION = """
对于线性回归模型，特征重要性是基于各个特征的系数的绝对值计算的。
系数的绝对值越大，表示该特征对预测结果的影响越大。
请注意，这种方法没有考虑特征的尺度，因此在解释时应当结合特征的实际含义和尺度来理解其重要性。
"""

XGBOOST_LABEL_ENCODING_EXPLANATION = """
### 目标变量编码对照表

在 XGBoost 模型中，我们对目标变量进行了编码处理。这是因为 XGBoost 要求输入的目标变量为数值型。
下表展示了原始类别与其对应的编码值：

#### 注意事项：
- 在解释模型输出时，请参考此对照表将数值结果转换回原始类别。
- 编码值的大小并不代表类别的优劣或重要性。
- 如果您计划使用此模型进行预测，请确保使用相同的编码方式处理新数据。
"""
